#:kivy 1.11.1

#:import MapView kivy.garden.mapview.MapView
#:import MapSource kivy.garden.mapview.MapSource
#:import GpsBlinker gpsblinker.GpsBlinker
 




<RouteMapView>:
    zoom: 15
    double_tap_zoom: True
    map_source: MapSource(min_zoom=10, max_zoom=15)
    GpsBlinker:
        id: blinker

<Waypoint>:
    source: 'KivyMD/kivymd/images/transparent.png'
    MDIconButton:
        id: logo
        icon: 'city-variant-outline'
        pos: self.parent.pos
        height: self.width
        md_bg_color: 0, 0, 0, 0
        canvas.before:
            Color:
                rgba: app.theme_cls.primary_color
            RoundedRectangle:
                radius: [self.width/2.0, ]
                size: [self.width, self.height]
                pos: [self.x, self.y]
        Label:
            id: waypoint_order
            pos_hint: {'center_x': 0.5, 'center_y': 0}
            size_hint: 0.5, 0.5
            canvas.before:
                Color:
                    rgba: app.theme_cls.primary_dark
                RoundedRectangle:
                    radius: [self.width/2.0, ]
                    size: [self.width, self.height]
                    pos: [self.x, self.y]


<RoutePage>
    name: "Route Page"    
    map: mapview

    RouteMapView:
        id: mapview
        
# <PageToolbar>
#     right_action_items: [["keyboard-return", lambda x: app.root.windows.return_homepage()]]
#     md_bg_color: app.theme_cls.accent_color
#     pos_hint: {"top": 1}
    
    # GpsBlinker:
    #     id: blinkero